<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title> | 3M Serenity Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content=" | 3M Serenity Documentation ">
    <meta name="generator" content="docfx 2.58.4.0">
    
    <link rel="shortcut icon" href="../../images/3M_wordmark.svg">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/3M_wordmark.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">

<p>Simulating Device Data using Azure Online Simulator</p>
<p>This documentation explains how to simulate device telemetry using Azure Online Simulator i.e., Raspberry Pi Simulator.
Note: The example used is to explain how to simulate Device data using connection string of a device. The step#1(Creating a device) can be skipped if the device is already present and connection string is available.
Step-1: Creating a Device
Create a device and fetch the connection string.
Ex: (Using web application)</p>
<ol>
<li><p>Login to CRSL or PSD portal</p>
</li>
<li><p>Go to Device Explorer and click New Device</p>
</li>
<li><p>Give the inputs for creating a new device
a.	Device type: IoT Device/IoT Edge Device
b.	Device ID: Custom DeviceID or System generated DeviceID
c.	Authentication type: Symmetric key/ X.509
d.	Authentication keys: Autogenerated/Enter manually (Primary and Secondary)
e.	Click on create/apply</p>
</li>
<li><p>Once the device is connected, copy the connection strings (Sample connection string: HostName=iothub-233a1ca2.azure-devices.net;DeviceId=9db19edd-ba26-4e56-80f8-63582f0d1f8c;SharedAccessKey=bjRJEOgHkRxfefNnO4AfakB7No7bzIC3yqeHVlu/F2E=)
Note: For creating a device in IoT hub, refer this: <a href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-raspberry-pi-web-simulator-get-started#register-a-new-device-in-the-iot-hub">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-raspberry-pi-web-simulator-get-started#register-a-new-device-in-the-iot-hub</a>
Step-2: Simulate Device telemetry</p>
</li>
<li><p>Launch the Raspberry Pi online Simulator using: <a href="https://azure-samples.github.io/raspberry-pi-web-simulator/#getstarted">https://azure-samples.github.io/raspberry-pi-web-simulator/#getstarted</a></p>
</li>
<li><p>The simulator has three areas</p>
</li>
</ol>
<p>a.	Assembly area: Preview of the default circuit
b.	Coding area: An online code editor where the application to collect and send data in the simulator resides.
Note: A default sample application is present in this area which helps to collect sensor data from BME280 sensor and sends to your Azure IoT Hub. This is fully compatible with real Pi devices
c.	Integrated Console window: Shows the output of your code. And it has three buttons
i.	Run: Run the application from the coding area
ii.	Reset: Resets the coding area to the default application by undoing the changes you made
iii.	Fold/Expand: Used to fold/expand the console window
3.	In the coding area, if you are running the default application, scroll to the connectionString constant assignment(line.15) and replace the default placeholder with your device connection string from Step-1.</p>
<ol start="4">
<li>Run code: Select Run from console window or type npm start to run the application</li>
<li>Output: You should see the following output that shows the sensor data and the messages that are sent to your IoT hub</li>
</ol>
<p>Step-3: Verify telemetry data</p>
<p>Telemetry data is sent and can be verified either through Azure portal or web application</p>
<p>References:
•	<a href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-raspberry-pi-web-simulator-get-started">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-raspberry-pi-web-simulator-get-started</a>
•	<a href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-vscode-iot-toolkit-cloud-device-messaging">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-vscode-iot-toolkit-cloud-device-messaging</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://dev.azure.com/3M-Bluebird/AzurePlatform/_git/docs-serenity?path=Documentation/Public/Guides/Devices/Simulate-Data.md&amp;version=GBmaster&amp;line=1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            IoT Platform Documentation © 3M - All rights reserved
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
